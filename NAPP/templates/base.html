<!-- templates/base.html -->
{% load static %}
<!-- templates/base.html -->
<!DOCTYPE html>
<html lang="en" data-bs-theme="light"> <!-- default to light -->
<head>
    <meta charset="UTF-8">
    <title>Neighbour Assistant</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Bootstrap 5.3 with theming support -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-body text-body">
    <div class="container py-4">
        <!-- Toggle Switch -->
        <div class="text-end mb-4">
            <button id="themeToggle" class="btn btn-outline-secondary btn-sm">ðŸŒ—Click here to change theme</button>
        </div>

        {% block content %}{% endblock %}
    </div>

    <!-- Bootstrap JS and theme toggling script -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        const themeToggleBtn = document.getElementById("themeToggle");
        const rootElement = document.documentElement;

        // Set theme based on saved preference
        const storedTheme = localStorage.getItem("theme");
        if (storedTheme) {
            rootElement.setAttribute("data-bs-theme", storedTheme);
        }

        // Toggle and save
        themeToggleBtn.addEventListener("click", () => {
            const currentTheme = rootElement.getAttribute("data-bs-theme");
            const newTheme = currentTheme === "dark" ? "light" : "dark";
            rootElement.setAttribute("data-bs-theme", newTheme);
            localStorage.setItem("theme", newTheme);
        });
    </script>
</body>
</html>
